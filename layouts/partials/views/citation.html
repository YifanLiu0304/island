{{ $item := .}}

<!-- Debug info to see what we're getting -->
<div style="border: 1px solid #ddd; padding: 20px; margin-bottom: 20px;">
    <h3 style="color: #000000; margin: 0 0 10px 0;">
        {{ if .Title }}
            {{ .Title }}
        {{ else }}
            NO TITLE FOUND
        {{ end }}
    </h3>

    <p style="color: #666666; margin: 0 0 15px 0;">
        {{ if .Params.authors }}
            {{ delimit .Params.authors ", " }}
        {{ else }}
            NO AUTHORS FOUND
        {{ end }}
    </p>

    <p style="color: #666666; margin: 0 0 15px 0;">
        {{ if .Params.publication }}
            {{ .Params.publication }}
        {{ else }}
            NO PUBLICATION INFO FOUND
        {{ end }}
    </p>

    <div style="display: flex; gap: 10px;">
        <button onclick="toggleAbstract_{{ .File.UniqueID }}()" 
                style="border: 2px solid #81c784; background: white; color: #2e7d4f; padding: 8px 16px; border-radius: 6px; cursor: pointer;">
            Abstract
        </button>
        <a href="mailto:liuyifan@gatech.edu" 
           style="border: 2px solid #81c784; background: white; color: #2e7d4f; padding: 8px 16px; border-radius: 6px; text-decoration: none;">
            Email me for details
        </a>
    </div>

    <div id="abstract_{{ .File.UniqueID }}" style="display: none; margin-top: 15px; padding: 15px; background: #f5f5f5;">
        {{ if .Params.abstract }}
            {{ .Params.abstract }}
        {{ else }}
            NO ABSTRACT FOUND
        {{ end }}
    </div>
</div>

<script>
function toggleAbstract_{{ .File.UniqueID }}() {
    var x = document.getElementById('abstract_{{ .File.UniqueID }}');
    x.style.display = x.style.display === 'none' ? 'block' : 'none';
}
</script> 