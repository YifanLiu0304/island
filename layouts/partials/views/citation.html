{{ $page := . }}

<div class="card-simple">
  {{ $resource := ($page.Resources.ByType "image").GetMatch "*featured*" }}
  {{ $anchor := $page.Params.image.focal_point | default "Smart" }}

  {{ with $resource }}
  {{ $image := .Fill (printf "808x455 q90 %s" $anchor) }}
  <div>
    <img src="{{ $image.RelPermalink }}" class="article-banner" alt="{{ $page.Title }}">
  </div>
  {{end}}

  <div class="article-title">
    <h2>{{ $page.Title | markdownify }}</h2>
  </div>

  <div class="article-authors">
    {{ with $page.Params.authors }}
      {{ delimit . ", " | markdownify }}
    {{ end }}
  </div>

  {{ if $page.Params.publication }}
  <div class="article-publication">
    {{ $page.Params.publication | markdownify }}
  </div>
  {{ end }}

  <div class="article-metadata">
    {{ if $page.Params.date }}
      {{ $date := $page.Date.Format "Jan 2, 2006" }}
      <span class="article-date">{{ $date }}</span>
    {{ end }}
  </div>

  <div class="article-abstract-row">
    <button class="abstract-toggle-btn" onclick="toggleAbstract('abstract-{{ $page.File.UniqueID }}')">Abstract</button>
    <a href="mailto:liuyifan@gatech.edu?subject=Regarding: {{ $page.Title }}" class="email-btn">Email me for details</a>
  </div>
  <div id="abstract-{{ $page.File.UniqueID }}" class="abstract-content" style="display: none;">
    {{ with $page.Params.abstract }}
      {{ . | markdownify }}
    {{ end }}
  </div>
</div>

<style>
.card-simple {
  padding: 1.5rem;
  background: #fff;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}
.article-title {
  margin-bottom: 0.5em;
}
.article-title h2 {
  margin: 0;
  font-size: 1.4em;
  font-weight: 600;
  line-height: 1.3;
}
.article-title a {
  color: inherit;
  text-decoration: none;
}
.article-authors {
  color: #555;
  font-size: 1em;
  margin-bottom: 0.8em;
}
.article-publication {
  font-size: 0.9em;
  color: #666;
  margin-bottom: 0.5em;
  font-style: italic;
}
.article-metadata {
  font-size: 0.9em;
  color: #666;
  margin-bottom: 1em;
}
.article-abstract-row {
  margin-top: 1rem;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 0.5em;
}
.abstract-toggle-btn, .email-btn {
  font-weight: 500;
  color: #2e7d4f;
  background: none;
  border: 2px solid #81c784;
  border-radius: 6px;
  font-size: 0.9em;
  padding: 0.3em 0.8em;
  cursor: pointer;
  transition: all 0.2s ease;
  text-decoration: none;
  display: inline-block;
}
.abstract-toggle-btn:hover, .email-btn:hover {
  background: #81c784;
  color: #fff;
}
.abstract-content {
  color: #666;
  margin-top: 0.8em;
  padding: 1em;
  background-color: #f8f9fa;
  border-radius: 4px;
  font-size: 0.95em;
  line-height: 1.5;
}
</style>

<script>
function toggleAbstract(id) {
  var x = document.getElementById(id);
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}
</script> 