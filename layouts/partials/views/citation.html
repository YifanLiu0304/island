{{ $item := .item }}

<div class="pub-list-item view-citation" style="margin-bottom: 1rem">
  <i class="far fa-file-alt pub-icon" aria-hidden="true"></i>

  {{/* APA Style Citation */}}
  <span class="article-metadata">
    {{ $item.Title }}
    {{- with $item.Params.authors -}}
      {{- $len := len . -}}
      {{- range $index, $author := . -}}
        {{- if eq $index (sub $len 1) -}}
          & {{ $author }}.
        {{- else if gt $index 0 -}}
          , {{ $author }}
        {{- else -}}
          {{ $author }}
        {{- end -}}
      {{- end -}}
    {{- end -}}
    ({{ $item.Date.Format "2006" }}).
    {{ with $item.Params.publication }}{{ . }}{{ end }}
  </span>

  {{/* Buttons */}}
  <div class="btn-links" style="margin-top: 0.5rem">
    {{ if $item.Params.abstract }}
      <a class="btn btn-sm" href="#" style="background-color: #90EE90; color: #000000; margin-right: 0.5rem">
        Abstract
      </a>
    {{ end }}
    <a class="btn btn-sm" href="mailto:your@email.com?subject=Request for paper: {{ $item.Title }}" style="background-color: #90EE90; color: #000000">
      Email me for details
    </a>
  </div>
<<<<<<< HEAD
=======
  {{end}}

  <div class="article-title">
    <h2><a href="{{ $page.RelPermalink }}">{{ $page.Title }}</a></h2>
  </div>

  <div class="article-authors">
    {{ with $page.Params.authors }}
      {{ delimit . ", " }}
    {{ end }}
  </div>

  <div class="article-style">
    {{ $page.Params.publication | markdownify }}
  </div>

  <div class="article-metadata">
    {{ $date := $page.Date.Format "Jan 2, 2006" }}
    {{ $date }}
  </div>

  <div class="article-abstract-row">
    <button class="abstract-toggle-btn" onclick="toggleAbstract('abstract-{{ $page.File.UniqueID }}')">Abstract</button>
    <a href="mailto:liuyifan@gatech.edu?subject=Regarding: {{ $page.Title }}" class="email-btn">Email me for details</a>
  </div>
  <div id="abstract-{{ $page.File.UniqueID }}" class="abstract-content" style="display: none;">
    {{ $page.Params.abstract | markdownify }}
  </div>
>>>>>>> parent of b20651a (edit Publications)
</div>

<script>
function toggleAbstract(id) {
  var x = document.getElementById(id);
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}
</script> 